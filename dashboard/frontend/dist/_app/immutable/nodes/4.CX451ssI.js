import{s as ge,n as K,d as h,c as H,e as i,f as _,h as v,j as b,o as R,m as T,p,q as y,v as je,b as A,k as M,t as w,w as Ee,A as ce}from"../chunks/CROMKnEV.js";import{e as ue}from"../chunks/D6YF6ztN.js";import{S as ke,i as De}from"../chunks/B0cu4CwU.js";import{f as fe}from"../chunks/C3hJNHfY.js";function he(a,e,s){const t=a.slice();return t[3]=e[s],t}function Te(a){let e,s,t,l='<tr><th class="svelte-1lubj7">Name</th> <th class="svelte-1lubj7">Status</th> <th class="col-ce svelte-1lubj7">Best CE</th> <th class="col-acc svelte-1lubj7">Best Acc</th> <th class="svelte-1lubj7">Started</th> <th class="svelte-1lubj7">Duration</th> <th class="svelte-1lubj7">Config</th></tr>',c,o,m=ue(a[0]),r=[];for(let n=0;n<m.length;n+=1)r[n]=pe(he(a,m,n));return{c(){e=p("div"),s=p("table"),t=p("thead"),t.innerHTML=l,c=y(),o=p("tbody");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=v(n,"DIV",{class:!0});var k=b(e);s=v(k,"TABLE",{class:!0});var f=b(s);t=v(f,"THEAD",{"data-svelte-h":!0}),R(t)!=="svelte-m9orb8"&&(t.innerHTML=l),c=T(f),o=v(f,"TBODY",{});var S=b(o);for(let C=0;C<r.length;C+=1)r[C].l(S);S.forEach(h),f.forEach(h),k.forEach(h),this.h()},h(){_(s,"class","svelte-1lubj7"),_(e,"class","experiments-table svelte-1lubj7")},m(n,k){H(n,e,k),i(e,s),i(s,t),i(s,c),i(s,o);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,null)},p(n,k){if(k&1){m=ue(n[0]);let f;for(f=0;f<m.length;f+=1){const S=he(n,m,f);r[f]?r[f].p(S,k):(r[f]=pe(S),r[f].c(),r[f].m(o,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=m.length}},d(n){n&&h(e),Ee(r,n)}}}function ye(a){let e,s='<p>No experiments yet.</p> <p class="hint svelte-1lubj7">Start a flow or run an optimization to create experiments.</p>';return{c(){e=p("div"),e.innerHTML=s,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1e6urhn"&&(e.innerHTML=s),this.h()},h(){_(e,"class","empty svelte-1lubj7")},m(t,l){H(t,e,l)},p:K,d(t){t&&h(e)}}}function Ce(a){let e,s;return{c(){e=p("div"),s=w(a[2]),this.h()},l(t){e=v(t,"DIV",{class:!0});var l=b(e);s=M(l,a[2]),l.forEach(h),this.h()},h(){_(e,"class","error svelte-1lubj7")},m(t,l){H(t,e,l),i(e,s)},p(t,l){l&4&&A(s,t[2])},d(t){t&&h(e)}}}function Me(a){let e,s="Loading experiments...";return{c(){e=p("div"),e.textContent=s,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-jxpgfv"&&(e.textContent=s),this.h()},h(){_(e,"class","loading svelte-1lubj7")},m(t,l){H(t,e,l)},p:K,d(t){t&&h(e)}}}function de(a){let e,s="Tiered";return{c(){e=p("span"),e.textContent=s,this.h()},l(t){e=v(t,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ns6obn"&&(e.textContent=s),this.h()},h(){_(e,"class","config-tag svelte-1lubj7")},m(t,l){H(t,e,l)},d(t){t&&h(e)}}}function _e(a){let e,s=a[3].phase_type+"",t;return{c(){e=p("span"),t=w(s),this.h()},l(l){e=v(l,"SPAN",{class:!0});var c=b(e);t=M(c,s),c.forEach(h),this.h()},h(){_(e,"class","config-tag svelte-1lubj7")},m(l,c){H(l,e,c),i(e,t)},p(l,c){c&1&&s!==(s=l[3].phase_type+"")&&A(t,s)},d(l){l&&h(e)}}}function ve(a){let e,s=a[3].max_iterations+"",t,l;return{c(){e=p("span"),t=w(s),l=w(" iters"),this.h()},l(c){e=v(c,"SPAN",{class:!0});var o=b(e);t=M(o,s),l=M(o," iters"),o.forEach(h),this.h()},h(){_(e,"class","config-tag svelte-1lubj7")},m(c,o){H(c,e,o),i(e,t),i(e,l)},p(c,o){o&1&&s!==(s=c[3].max_iterations+"")&&A(t,s)},d(c){c&&h(e)}}}function pe(a){let e,s,t,l=a[3].name+"",c,o,m,r,n,k=a[3].status+"",f,S,C,P=(a[3].best_ce!==null?a[3].best_ce.toFixed(4):"—")+"",z,Q,L,$=a[3].best_accuracy!==null?(a[3].best_accuracy*100).toFixed(2)+"%":"—",O,W,I,B=(a[3].started_at?fe(a[3].started_at):"—")+"",U,X,V,q=(a[3].started_at?be(a[3].started_at,a[3].ended_at):"—")+"",Y,Z,N,D,G,J,x,E=a[3].tier_config&&de(),g=a[3].phase_type&&_e(a),j=a[3].max_iterations&&ve(a);return{c(){e=p("tr"),s=p("td"),t=p("a"),c=w(l),m=y(),r=p("td"),n=p("span"),f=w(k),S=y(),C=p("td"),z=w(P),Q=y(),L=p("td"),O=w($),W=y(),I=p("td"),U=w(B),X=y(),V=p("td"),Y=w(q),Z=y(),N=p("td"),D=p("div"),E&&E.c(),G=y(),g&&g.c(),J=y(),j&&j.c(),x=y(),this.h()},l(d){e=v(d,"TR",{class:!0});var u=b(e);s=v(u,"TD",{class:!0});var ee=b(s);t=v(ee,"A",{href:!0,class:!0});var te=b(t);c=M(te,l),te.forEach(h),ee.forEach(h),m=T(u),r=v(u,"TD",{class:!0});var se=b(r);n=v(se,"SPAN",{class:!0,style:!0});var le=b(n);f=M(le,k),le.forEach(h),se.forEach(h),S=T(u),C=v(u,"TD",{class:!0});var ae=b(C);z=M(ae,P),ae.forEach(h),Q=T(u),L=v(u,"TD",{class:!0});var re=b(L);O=M(re,$),re.forEach(h),W=T(u),I=v(u,"TD",{class:!0});var ne=b(I);U=M(ne,B),ne.forEach(h),X=T(u),V=v(u,"TD",{class:!0});var ie=b(V);Y=M(ie,q),ie.forEach(h),Z=T(u),N=v(u,"TD",{class:!0});var oe=b(N);D=v(oe,"DIV",{class:!0});var F=b(D);E&&E.l(F),G=T(F),g&&g.l(F),J=T(F),j&&j.l(F),F.forEach(h),oe.forEach(h),x=T(u),u.forEach(h),this.h()},h(){_(t,"href",o="/experiments/"+a[3].id),_(t,"class","exp-link svelte-1lubj7"),_(s,"class","svelte-1lubj7"),_(n,"class","status-badge svelte-1lubj7"),ce(n,"background",me(a[3].status)),_(r,"class","svelte-1lubj7"),_(C,"class","col-ce mono svelte-1lubj7"),_(L,"class","col-acc mono svelte-1lubj7"),_(I,"class","svelte-1lubj7"),_(V,"class","svelte-1lubj7"),_(D,"class","config-preview svelte-1lubj7"),_(N,"class","svelte-1lubj7"),_(e,"class","svelte-1lubj7")},m(d,u){H(d,e,u),i(e,s),i(s,t),i(t,c),i(e,m),i(e,r),i(r,n),i(n,f),i(e,S),i(e,C),i(C,z),i(e,Q),i(e,L),i(L,O),i(e,W),i(e,I),i(I,U),i(e,X),i(e,V),i(V,Y),i(e,Z),i(e,N),i(N,D),E&&E.m(D,null),i(D,G),g&&g.m(D,null),i(D,J),j&&j.m(D,null),i(e,x)},p(d,u){u&1&&l!==(l=d[3].name+"")&&A(c,l),u&1&&o!==(o="/experiments/"+d[3].id)&&_(t,"href",o),u&1&&k!==(k=d[3].status+"")&&A(f,k),u&1&&ce(n,"background",me(d[3].status)),u&1&&P!==(P=(d[3].best_ce!==null?d[3].best_ce.toFixed(4):"—")+"")&&A(z,P),u&1&&$!==($=d[3].best_accuracy!==null?(d[3].best_accuracy*100).toFixed(2)+"%":"—")&&A(O,$),u&1&&B!==(B=(d[3].started_at?fe(d[3].started_at):"—")+"")&&A(U,B),u&1&&q!==(q=(d[3].started_at?be(d[3].started_at,d[3].ended_at):"—")+"")&&A(Y,q),d[3].tier_config?E||(E=de(),E.c(),E.m(D,G)):E&&(E.d(1),E=null),d[3].phase_type?g?g.p(d,u):(g=_e(d),g.c(),g.m(D,J)):g&&(g.d(1),g=null),d[3].max_iterations?j?j.p(d,u):(j=ve(d),j.c(),j.m(D,null)):j&&(j.d(1),j=null)},d(d){d&&h(e),E&&E.d(),g&&g.d(),j&&j.d()}}}function we(a){let e,s,t='<h1 class="svelte-1lubj7">Experiment History</h1>',l;function c(r,n){return r[1]?Me:r[2]?Ce:r[0].length===0?ye:Te}let o=c(a),m=o(a);return{c(){e=p("div"),s=p("div"),s.innerHTML=t,l=y(),m.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=b(e);s=v(n,"DIV",{class:!0,"data-svelte-h":!0}),R(s)!=="svelte-18toski"&&(s.innerHTML=t),l=T(n),m.l(n),n.forEach(h),this.h()},h(){_(s,"class","page-header svelte-1lubj7"),_(e,"class","container")},m(r,n){H(r,e,n),i(e,s),i(e,l),m.m(e,null)},p(r,[n]){o===(o=c(r))&&m?m.p(r,n):(m.d(1),m=o(r),m&&(m.c(),m.m(e,null)))},i:K,o:K,d(r){r&&h(e),m.d()}}}function me(a){switch(a){case"running":return"var(--accent-blue)";case"completed":return"var(--accent-green)";case"failed":return"var(--accent-red)";case"cancelled":return"var(--text-tertiary)";default:return"var(--text-secondary)"}}function be(a,e){if(!e)return"Running...";const s=new Date(a),t=new Date(e),l=Math.max(0,Math.floor((t.getTime()-s.getTime())/1e3));if(l<60)return`${l}s`;if(l<3600)return`${Math.floor(l/60)}m ${l%60}s`;const c=Math.floor(l/3600),o=Math.floor(l%3600/60);return`${c}h ${o}m`}function Se(a,e,s){let t=[],l=!0,c=null;return je(async()=>{try{const o=await fetch("/api/experiments");if(!o.ok)throw new Error("Failed to fetch experiments");s(0,t=await o.json())}catch(o){s(2,c=o instanceof Error?o.message:"Unknown error")}finally{s(1,l=!1)}}),[t,l,c]}class Ve extends ke{constructor(e){super(),De(this,e,Se,we,ge,{})}}export{Ve as component};
