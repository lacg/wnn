import{s as Dn,n as Nt,d as f,w as Ll,r as ds,G as Oe,c as B,e as l,l as j,f as s,F as T,H as es,h as o,j as k,o as P,m as d,p as r,q as v,K as qn,v as Hn,b as De,k as q,t as H,E as $t,I as xn,D as W,J as Ln,U as Rn,x as hn,B as ps}from"../chunks/CROMKnEV.js";import{S as On,i as Vn,b as Bn,d as Un,t as $s,a as el,c as Wn,m as Gn,e as Fn,f as Mn,g as Qn}from"../chunks/B0cu4CwU.js";import{e as _s}from"../chunks/D6YF6ztN.js";import{g as Jn}from"../chunks/BPTA8-05.js";import{T as Kn}from"../chunks/DoUPpPwl.js";function pn(n,t,e){const i=n.slice();return i[18]=t[e],i}function _n(n,t,e){const i=n.slice();return i[21]=t[e],i}function dn(n){let t,e=n[21].name+"",i,a,u=n[21].status+"",c,h,p;return{c(){t=r("option"),i=H(e),a=H(" ("),c=H(u),h=H(`)
					`),this.h()},l(g){t=o(g,"OPTION",{});var _=k(t);i=q(_,e),a=q(_," ("),c=q(_,u),h=q(_,`)
					`),_.forEach(f),this.h()},h(){t.__value=p=n[21].id,T(t,t.__value)},m(g,_){B(g,t,_),l(t,i),l(t,a),l(t,c),l(t,h)},p(g,_){_&1&&e!==(e=g[21].name+"")&&De(i,e),_&1&&u!==(u=g[21].status+"")&&De(c,u),_&1&&p!==(p=g[21].id)&&(t.__value=p,T(t,t.__value))},d(g){g&&f(t)}}}function vn(n){let t,e="Loading flows...";return{c(){t=r("span"),t.textContent=e,this.h()},l(i){t=o(i,"SPAN",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-apx07w"&&(t.textContent=e),this.h()},h(){s(t,"class","loading-hint svelte-1d2y834")},m(i,a){B(i,t,a)},d(i){i&&f(t)}}}function mn(n){let t,e=tl(n[18].best_ce)+"",i,a;return{c(){t=H("("),i=H(e),a=H(")")},l(u){t=q(u,"("),i=q(u,e),a=q(u,")")},m(u,c){B(u,t,c),B(u,i,c),B(u,a,c)},p(u,c){c&2&&e!==(e=tl(u[18].best_ce)+"")&&De(i,e)},d(u){u&&(f(t),f(i),f(a))}}}function bn(n){let t,e=n[18].name+"",i,a,u,c,h=n[18].best_ce!==null&&mn(n);return{c(){t=r("option"),i=H(e),a=v(),h&&h.c(),u=v(),this.h()},l(p){t=o(p,"OPTION",{});var g=k(t);i=q(g,e),a=d(g),h&&h.l(g),u=d(g),g.forEach(f),this.h()},h(){t.__value=c=n[18].id,T(t,t.__value)},m(p,g){B(p,t,g),l(t,i),l(t,a),h&&h.m(t,null),l(t,u)},p(p,g){g&2&&e!==(e=p[18].name+"")&&De(i,e),p[18].best_ce!==null?h?h.p(p,g):(h=mn(p),h.c(),h.m(t,u)):h&&(h.d(1),h=null),g&2&&c!==(c=p[18].id)&&(t.__value=c,T(t,t.__value))},d(p){p&&f(t),h&&h.d()}}}function kn(n){let t,e="Loading experiments...";return{c(){t=r("span"),t.textContent=e,this.h()},l(i){t=o(i,"SPAN",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-xlqncx"&&(t.textContent=e),this.h()},h(){s(t,"class","loading-hint svelte-1d2y834")},m(i,a){B(i,t,a)},d(i){i&&f(t)}}}function Yn(n){let t,e;return{c(){t=r("div"),e=H(n[8]),this.h()},l(i){t=o(i,"DIV",{class:!0});var a=k(t);e=q(a,n[8]),a.forEach(f),this.h()},h(){s(t,"class","resolved-checkpoint error svelte-1d2y834")},m(i,a){B(i,t,a),l(t,e)},p(i,a){a&256&&De(e,i[8])},d(i){i&&f(t)}}}function Xn(n){let t,e="Resolving checkpoint...";return{c(){t=r("div"),t.textContent=e,this.h()},l(i){t=o(i,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-jc021e"&&(t.textContent=e),this.h()},h(){s(t,"class","resolved-checkpoint muted svelte-1d2y834")},m(i,a){B(i,t,a)},p:Nt,d(i){i&&f(t)}}}function Zn(n){let t,e,i,a,u=n[4].name+"",c,h,p,g,_,N="Clear",C,E,b=n[4].best_ce!==null&&Cn(n),y=n[4].best_accuracy!==null&&gn(n);return{c(){t=r("div"),e=r("span"),i=H("Seed: "),a=r("strong"),c=H(u),h=v(),b&&b.c(),p=v(),y&&y.c(),g=v(),_=r("button"),_.textContent=N,this.h()},l(I){t=o(I,"DIV",{class:!0});var L=k(t);e=o(L,"SPAN",{class:!0});var V=k(e);i=q(V,"Seed: "),a=o(V,"STRONG",{});var D=k(a);c=q(D,u),D.forEach(f),h=d(V),b&&b.l(V),p=d(V),y&&y.l(V),V.forEach(f),g=d(L),_=o(L,"BUTTON",{class:!0,"data-svelte-h":!0}),P(_)!=="svelte-hzxthj"&&(_.textContent=N),L.forEach(f),this.h()},h(){s(e,"class","checkpoint-info svelte-1d2y834"),s(_,"class","btn-clear svelte-1d2y834"),s(t,"class","resolved-checkpoint svelte-1d2y834")},m(I,L){B(I,t,L),l(t,e),l(e,i),l(e,a),l(a,c),l(e,h),b&&b.m(e,null),l(e,p),y&&y.m(e,null),l(t,g),l(t,_),C||(E=j(_,"click",n[11]),C=!0)},p(I,L){L&16&&u!==(u=I[4].name+"")&&De(c,u),I[4].best_ce!==null?b?b.p(I,L):(b=Cn(I),b.c(),b.m(e,p)):b&&(b.d(1),b=null),I[4].best_accuracy!==null?y?y.p(I,L):(y=gn(I),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(I){I&&f(t),b&&b.d(),y&&y.d(),C=!1,E()}}}function Cn(n){let t,e=tl(n[4].best_ce)+"",i;return{c(){t=r("span"),i=H(e),this.h()},l(a){t=o(a,"SPAN",{class:!0});var u=k(t);i=q(u,e),u.forEach(f),this.h()},h(){s(t,"class","checkpoint-metric svelte-1d2y834")},m(a,u){B(a,t,u),l(t,i)},p(a,u){u&16&&e!==(e=tl(a[4].best_ce)+"")&&De(i,e)},d(a){a&&f(t)}}}function gn(n){let t,e=yn(n[4].best_accuracy)+"",i;return{c(){t=r("span"),i=H(e),this.h()},l(a){t=o(a,"SPAN",{class:!0});var u=k(t);i=q(u,e),u.forEach(f),this.h()},h(){s(t,"class","checkpoint-metric svelte-1d2y834")},m(a,u){B(a,t,u),l(t,i)},p(a,u){u&16&&e!==(e=yn(a[4].best_accuracy)+"")&&De(i,e)},d(a){a&&f(t)}}}function $n(n){let t,e,i,a,u="Flow",c,h,p,g="Select a flow...",_,N,C,E,b="Experiment",y,I,L,V="Select an experiment...",D,Q,z,S,O,U=_s(n[0]),Y=[];for(let A=0;A<U.length;A+=1)Y[A]=dn(_n(n,U,A));let Z=n[5]&&vn(),$=_s(n[1]),G=[];for(let A=0;A<$.length;A+=1)G[A]=bn(pn(n,$,A));let F=n[6]&&kn();function oe(A,K){if(A[4])return Zn;if(A[7])return Xn;if(A[8])return Yn}let J=oe(n),x=J&&J(n);return{c(){t=r("div"),e=r("div"),i=r("div"),a=r("label"),a.textContent=u,c=v(),h=r("select"),p=r("option"),p.textContent=g;for(let A=0;A<Y.length;A+=1)Y[A].c();_=v(),Z&&Z.c(),N=v(),C=r("div"),E=r("label"),E.textContent=b,y=v(),I=r("select"),L=r("option"),L.textContent=V;for(let A=0;A<G.length;A+=1)G[A].c();Q=v(),F&&F.c(),z=v(),x&&x.c(),this.h()},l(A){t=o(A,"DIV",{class:!0});var K=k(t);e=o(K,"DIV",{class:!0});var w=k(e);i=o(w,"DIV",{class:!0});var te=k(i);a=o(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(a)!=="svelte-oya5z2"&&(a.textContent=u),c=d(te),h=o(te,"SELECT",{id:!0,class:!0});var le=k(h);p=o(le,"OPTION",{"data-svelte-h":!0}),P(p)!=="svelte-hy8vja"&&(p.textContent=g);for(let ce=0;ce<Y.length;ce+=1)Y[ce].l(le);le.forEach(f),_=d(te),Z&&Z.l(te),te.forEach(f),N=d(w),C=o(w,"DIV",{class:!0});var ee=k(C);E=o(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(E)!=="svelte-1y6ircq"&&(E.textContent=b),y=d(ee),I=o(ee,"SELECT",{id:!0,class:!0});var ne=k(I);L=o(ne,"OPTION",{"data-svelte-h":!0}),P(L)!=="svelte-nmifx7"&&(L.textContent=V);for(let ce=0;ce<G.length;ce+=1)G[ce].l(ne);ne.forEach(f),Q=d(ee),F&&F.l(ee),ee.forEach(f),w.forEach(f),z=d(K),x&&x.l(K),K.forEach(f),this.h()},h(){s(a,"for","seed-flow"),s(a,"class","svelte-1d2y834"),p.__value=null,T(p,p.__value),s(h,"id","seed-flow"),h.disabled=n[5],s(h,"class","svelte-1d2y834"),n[2]===void 0&&es(()=>n[13].call(h)),s(i,"class","selector-field svelte-1d2y834"),s(E,"for","seed-experiment"),s(E,"class","svelte-1d2y834"),L.__value=null,T(L,L.__value),s(I,"id","seed-experiment"),I.disabled=D=!n[2]||n[6],s(I,"class","svelte-1d2y834"),n[3]===void 0&&es(()=>n[14].call(I)),s(C,"class","selector-field svelte-1d2y834"),s(e,"class","selector-row svelte-1d2y834"),s(t,"class","seed-selector svelte-1d2y834")},m(A,K){B(A,t,K),l(t,e),l(e,i),l(i,a),l(i,c),l(i,h),l(h,p);for(let w=0;w<Y.length;w+=1)Y[w]&&Y[w].m(h,null);Oe(h,n[2],!0),l(i,_),Z&&Z.m(i,null),l(e,N),l(e,C),l(C,E),l(C,y),l(C,I),l(I,L);for(let w=0;w<G.length;w+=1)G[w]&&G[w].m(I,null);Oe(I,n[3],!0),l(C,Q),F&&F.m(C,null),l(t,z),x&&x.m(t,null),S||(O=[j(h,"change",n[13]),j(h,"change",n[9]),j(I,"change",n[14]),j(I,"change",n[10])],S=!0)},p(A,[K]){if(K&1){U=_s(A[0]);let w;for(w=0;w<U.length;w+=1){const te=_n(A,U,w);Y[w]?Y[w].p(te,K):(Y[w]=dn(te),Y[w].c(),Y[w].m(h,null))}for(;w<Y.length;w+=1)Y[w].d(1);Y.length=U.length}if(K&32&&(h.disabled=A[5]),K&5&&Oe(h,A[2]),A[5]?Z||(Z=vn(),Z.c(),Z.m(i,null)):Z&&(Z.d(1),Z=null),K&2){$=_s(A[1]);let w;for(w=0;w<$.length;w+=1){const te=pn(A,$,w);G[w]?G[w].p(te,K):(G[w]=bn(te),G[w].c(),G[w].m(I,null))}for(;w<G.length;w+=1)G[w].d(1);G.length=$.length}K&69&&D!==(D=!A[2]||A[6])&&(I.disabled=D),K&10&&Oe(I,A[3]),A[6]?F||(F=kn(),F.c(),F.m(C,null)):F&&(F.d(1),F=null),J===(J=oe(A))&&x?x.p(A,K):(x&&x.d(1),x=J&&J(A),x&&(x.c(),x.m(t,null)))},i:Nt,o:Nt,d(A){A&&f(t),Ll(Y,A),Z&&Z.d(),Ll(G,A),F&&F.d(),x&&x.d(),S=!1,ds(O)}}}function tl(n){return n===null?"":`CE: ${n.toFixed(4)}`}function yn(n){return n===null?"":`Acc: ${(n*100).toFixed(2)}%`}function ei(n,t,e){let{value:i=null}=t;const a=qn();let u=[],c=[],h=null,p=null,g=null,_=!1,N=!1,C=!1,E=null;Hn(b);async function b(){e(5,_=!0);try{const z=await fetch("/api/flows");if(z.ok){const S=await z.json();e(0,u=Array.isArray(S)?S:[]),u.sort((O,U)=>U.id-O.id)}}catch(z){console.error("Failed to load flows:",z)}finally{e(5,_=!1)}}async function y(){if(e(1,c=[]),e(3,p=null),e(4,g=null),e(8,E=null),V(null),!!h){e(6,N=!0);try{const z=await fetch(`/api/flows/${h}/experiments`);if(z.ok){const S=await z.json();e(1,c=Array.isArray(S)?S:[])}}catch(z){console.error("Failed to load experiments:",z)}finally{e(6,N=!1)}}}async function I(){if(e(4,g=null),e(8,E=null),V(null),!!p){e(7,C=!0);try{const z=await fetch(`/api/checkpoints?experiment_id=${p}&is_final=true&limit=10`);if(z.ok){const S=await z.json();S.length>0?(e(4,g=S[0]),V(g.id)):e(8,E="No final checkpoint found for this experiment")}}catch(z){e(8,E="Failed to load checkpoints"),console.error(z)}finally{e(7,C=!1)}}}function L(){e(2,h=null),e(3,p=null),e(1,c=[]),e(4,g=null),e(8,E=null),V(null)}function V(z){e(12,i=z),a("change",z)}function D(){h=$t(this),e(2,h),e(0,u)}function Q(){p=$t(this),e(3,p),e(1,c)}return n.$$set=z=>{"value"in z&&e(12,i=z.value)},[u,c,h,p,g,_,N,C,E,y,I,L,i,D,Q]}class ti extends On{constructor(t){super(),Vn(this,t,ei,$n,Dn,{value:12})}}function En(n,t,e){const i=n.slice();return i[78]=t[e],i[80]=e,i}function In(n){let t,e;return{c(){t=r("div"),e=H(n[28]),this.h()},l(i){t=o(i,"DIV",{class:!0});var a=k(t);e=q(a,n[28]),a.forEach(f),this.h()},h(){s(t,"class","error-message svelte-1skih0i")},m(i,a){B(i,t,a),l(t,e)},p(i,a){a[0]&268435456&&De(e,i[28])},d(i){i&&f(t)}}}function si(n){let t;return{c(){t=H("Start empty, add phases manually below")},l(e){t=q(e,"Start empty, add phases manually below")},m(e,i){B(e,t,i)},d(e){e&&f(t)}}}function li(n){let t;return{c(){t=H("Grid + GA/adapt/TS for neurons → bits → connections (stats-guided adaptation phases)")},l(e){t=q(e,"Grid + GA/adapt/TS for neurons → bits → connections (stats-guided adaptation phases)")},m(e,i){B(e,t,i)},d(e){e&&f(t)}}}function ni(n){let t;return{c(){t=H("Exhaustive neurons × bits grid, then 6 GA/TS optimization phases")},l(e){t=q(e,"Exhaustive neurons × bits grid, then 6 GA/TS optimization phases")},m(e,i){B(e,t,i)},d(e){e&&f(t)}}}function ii(n){let t;return{c(){t=H("Full search: neurons → bits → connections (250 gens)")},l(e){t=q(e,"Full search: neurons → bits → connections (250 gens)")},m(e,i){B(e,t,i)},d(e){e&&f(t)}}}function oi(n){let t;return{c(){t=H("Fast iteration: neurons → bits (50 gens, patience 2)")},l(e){t=q(e,"Fast iteration: neurons → bits (50 gens, patience 2)")},m(e,i){B(e,t,i)},d(e){e&&f(t)}}}function ri(n){let t;return{c(){t=H("bits → neurons → connections")},l(e){t=q(e,"bits → neurons → connections")},m(e,i){B(e,t,i)},p:Nt,d(e){e&&f(t)}}}function ai(n){let t;return{c(){t=H("neurons → bits → connections")},l(e){t=q(e,"neurons → bits → connections")},m(e,i){B(e,t,i)},p:Nt,d(e){e&&f(t)}}}function ui(n){let t=n[1]==="neurons_first"?"neurons → bits":"bits → neurons",e,i;return{c(){e=H(t),i=H(" (no connections)")},l(a){e=q(a,t),i=q(a," (no connections)")},m(a,u){B(a,e,u),B(a,i,u)},p(a,u){u[0]&2&&t!==(t=a[1]==="neurons_first"?"neurons → bits":"bits → neurons")&&De(e,t)},d(a){a&&(f(e),f(i))}}}function ci(n){let t,e=n[1]==="neurons_first"?"neurons → bits":"bits → neurons",i,a;return{c(){t=H("grid → "),i=H(e),a=H(" → connections")},l(u){t=q(u,"grid → "),i=q(u,e),a=q(u," → connections")},m(u,c){B(u,t,c),B(u,i,c),B(u,a,c)},p(u,c){c[0]&2&&e!==(e=u[1]==="neurons_first"?"neurons → bits":"bits → neurons")&&De(i,e)},d(u){u&&(f(t),f(i),f(a))}}}function fi(n){let t;return{c(){t=H("Fixed: grid → neurons (GA/adapt/TS) → bits (GA/adapt/TS) → connections (GA/adapt/TS)")},l(e){t=q(e,"Fixed: grid → neurons (GA/adapt/TS) → bits (GA/adapt/TS) → connections (GA/adapt/TS)")},m(e,i){B(e,t,i)},p:Nt,d(e){e&&f(t)}}}function wn(n){let t,e,i,a="Adaptation Iterations",u,c,h,p,g="Iterations for neurogenesis, synaptogenesis, axonogenesis phases",_,N;return{c(){t=r("div"),e=r("div"),i=r("label"),i.textContent=a,u=v(),c=r("input"),h=v(),p=r("span"),p.textContent=g,this.h()},l(C){t=o(C,"DIV",{class:!0});var E=k(t);e=o(E,"DIV",{class:!0});var b=k(e);i=o(b,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(i)!=="svelte-sy57q4"&&(i.textContent=a),u=d(b),c=o(b,"INPUT",{type:!0,id:!0,min:!0,class:!0}),h=d(b),p=o(b,"SPAN",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-srxdj0"&&(p.textContent=g),b.forEach(f),E.forEach(f),this.h()},h(){s(i,"for","adaptIters"),s(i,"class","svelte-1skih0i"),s(c,"type","number"),s(c,"id","adaptIters"),s(c,"min","1"),s(c,"class","svelte-1skih0i"),s(p,"class","field-hint svelte-1skih0i"),s(e,"class","form-group svelte-1skih0i"),s(t,"class","form-row svelte-1skih0i")},m(C,E){B(C,t,E),l(t,e),l(e,i),l(e,u),l(e,c),T(c,n[13]),l(e,h),l(e,p),_||(N=j(c,"input",n[47]),_=!0)},p(C,E){E[0]&8192&&W(c.value)!==C[13]&&T(c,C[13])},d(C){C&&f(t),_=!1,N()}}}function Pn(n){let t,e,i,a="CE Weight",u,c,h,p,g="Higher = prioritize lower CE",_,N,C,E="Accuracy Weight",b,y,I,L,V="Higher = prioritize accuracy",D,Q;return{c(){t=r("div"),e=r("div"),i=r("label"),i.textContent=a,u=v(),c=r("input"),h=v(),p=r("span"),p.textContent=g,_=v(),N=r("div"),C=r("label"),C.textContent=E,b=v(),y=r("input"),I=v(),L=r("span"),L.textContent=V,this.h()},l(z){t=o(z,"DIV",{class:!0});var S=k(t);e=o(S,"DIV",{class:!0});var O=k(e);i=o(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1gnd4hu"&&(i.textContent=a),u=d(O),c=o(O,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,class:!0}),h=d(O),p=o(O,"SPAN",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-1enw737"&&(p.textContent=g),O.forEach(f),_=d(S),N=o(S,"DIV",{class:!0});var U=k(N);C=o(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(C)!=="svelte-1rzhlxy"&&(C.textContent=E),b=d(U),y=o(U,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,class:!0}),I=d(U),L=o(U,"SPAN",{class:!0,"data-svelte-h":!0}),P(L)!=="svelte-59xzql"&&(L.textContent=V),U.forEach(f),S.forEach(f),this.h()},h(){s(i,"for","fitnessWeightCe"),s(i,"class","svelte-1skih0i"),s(c,"type","number"),s(c,"id","fitnessWeightCe"),s(c,"min","0"),s(c,"max","10"),s(c,"step","0.1"),s(c,"class","svelte-1skih0i"),s(p,"class","field-hint svelte-1skih0i"),s(e,"class","form-group svelte-1skih0i"),s(C,"for","fitnessWeightAcc"),s(C,"class","svelte-1skih0i"),s(y,"type","number"),s(y,"id","fitnessWeightAcc"),s(y,"min","0"),s(y,"max","10"),s(y,"step","0.1"),s(y,"class","svelte-1skih0i"),s(L,"class","field-hint svelte-1skih0i"),s(N,"class","form-group svelte-1skih0i"),s(t,"class","form-row svelte-1skih0i")},m(z,S){B(z,t,S),l(t,e),l(e,i),l(e,u),l(e,c),T(c,n[19]),l(e,h),l(e,p),l(t,_),l(t,N),l(N,C),l(N,b),l(N,y),T(y,n[20]),l(N,I),l(N,L),D||(Q=[j(c,"input",n[54]),j(y,"input",n[55])],D=!0)},p(z,S){S[0]&524288&&W(c.value)!==z[19]&&T(c,z[19]),S[0]&1048576&&W(y.value)!==z[20]&&T(y,z[20])},d(z){z&&f(t),D=!1,ds(Q)}}}function hi(n){let t,e="No phases. Use a template or add phases manually.";return{c(){t=r("p"),t.textContent=e,this.h()},l(i){t=o(i,"P",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1bdhh0f"&&(t.textContent=e),this.h()},h(){s(t,"class","empty-phases svelte-1skih0i")},m(i,a){B(i,t,a)},p:Nt,d(i){i&&f(t)}}}function pi(n){let t,e=_s(n[35]),i=[];for(let a=0;a<e.length;a+=1)i[a]=Nn(En(n,e,a));return{c(){t=r("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){t=o(a,"DIV",{class:!0});var u=k(t);for(let c=0;c<i.length;c+=1)i[c].l(u);u.forEach(f),this.h()},h(){s(t,"class","phase-list svelte-1skih0i")},m(a,u){B(a,t,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(t,null)},p(a,u){if(u[1]&400){e=_s(a[35]);let c;for(c=0;c<e.length;c+=1){const h=En(a,e,c);i[c]?i[c].p(h,u):(i[c]=Nn(h),i[c].c(),i[c].m(t,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=e.length}},d(a){a&&f(t),Ll(i,a)}}}function Nn(n){let t,e,i,a="↑",u,c,h,p,g,_,N=n[80]+1+"",C,E,b,y=n[78].name+"",I,L,V,D=(n[78].phase_type==="grid_search"?"GRID":n[78].experiment_type.toUpperCase())+"",Q,z,S,O="×",U,Y,Z;function $(){return n[60](n[80])}function G(){return n[61](n[80])}function F(){return n[62](n[80])}return{c(){t=r("div"),e=r("div"),i=r("button"),i.textContent=a,u=v(),c=r("button"),h=H("↓"),g=v(),_=r("span"),C=H(N),E=v(),b=r("span"),I=H(y),L=v(),V=r("span"),Q=H(D),z=v(),S=r("button"),S.textContent=O,U=v(),this.h()},l(oe){t=o(oe,"DIV",{class:!0});var J=k(t);e=o(J,"DIV",{class:!0});var x=k(e);i=o(x,"BUTTON",{type:!0,class:!0,title:!0,"data-svelte-h":!0}),P(i)!=="svelte-1oq76r9"&&(i.textContent=a),u=d(x),c=o(x,"BUTTON",{type:!0,class:!0,title:!0});var A=k(c);h=q(A,"↓"),A.forEach(f),x.forEach(f),g=d(J),_=o(J,"SPAN",{class:!0});var K=k(_);C=q(K,N),K.forEach(f),E=d(J),b=o(J,"SPAN",{class:!0});var w=k(b);I=q(w,y),w.forEach(f),L=d(J),V=o(J,"SPAN",{class:!0});var te=k(V);Q=q(te,D),te.forEach(f),z=d(J),S=o(J,"BUTTON",{type:!0,class:!0,title:!0,"data-svelte-h":!0}),P(S)!=="svelte-byo7f2"&&(S.textContent=O),U=d(J),J.forEach(f),this.h()},h(){s(i,"type","button"),s(i,"class","move-btn svelte-1skih0i"),i.disabled=n[80]===0,s(i,"title","Move up"),s(c,"type","button"),s(c,"class","move-btn svelte-1skih0i"),c.disabled=p=n[80]===n[35].length-1,s(c,"title","Move down"),s(e,"class","phase-move svelte-1skih0i"),s(_,"class","phase-num svelte-1skih0i"),s(b,"class","phase-name svelte-1skih0i"),s(V,"class","phase-type svelte-1skih0i"),ps(V,"ga",n[78].experiment_type==="ga"),ps(V,"ts",n[78].experiment_type==="ts"),ps(V,"adapt",["neurogenesis","synaptogenesis","axonogenesis"].includes(n[78].experiment_type)),s(S,"type","button"),s(S,"class","remove-btn svelte-1skih0i"),s(S,"title","Remove"),s(t,"class","phase-item svelte-1skih0i")},m(oe,J){B(oe,t,J),l(t,e),l(e,i),l(e,u),l(e,c),l(c,h),l(t,g),l(t,_),l(_,C),l(t,E),l(t,b),l(b,I),l(t,L),l(t,V),l(V,Q),l(t,z),l(t,S),l(t,U),Y||(Z=[j(i,"click",$),j(c,"click",G),j(S,"click",F)],Y=!0)},p(oe,J){n=oe,J[1]&16&&p!==(p=n[80]===n[35].length-1)&&(c.disabled=p),J[1]&16&&y!==(y=n[78].name+"")&&De(I,y),J[1]&16&&D!==(D=(n[78].phase_type==="grid_search"?"GRID":n[78].experiment_type.toUpperCase())+"")&&De(Q,D),J[1]&16&&ps(V,"ga",n[78].experiment_type==="ga"),J[1]&16&&ps(V,"ts",n[78].experiment_type==="ts"),J[1]&16&&ps(V,"adapt",["neurogenesis","synaptogenesis","axonogenesis"].includes(n[78].experiment_type))},d(oe){oe&&f(t),Y=!1,ds(Z)}}}function Tn(n){let t,e,i,a,u;return{c(){t=r("label"),e=r("input"),i=H(" Grid Search"),this.h()},l(c){t=o(c,"LABEL",{class:!0});var h=k(t);e=o(h,"INPUT",{type:!0,class:!0}),i=q(h," Grid Search"),h.forEach(f),this.h()},h(){s(e,"type","checkbox"),s(e,"class","svelte-1skih0i"),s(t,"class","inline-check svelte-1skih0i")},m(c,h){B(c,t,h),l(t,e),e.checked=n[30],l(t,i),a||(u=j(e,"change",n[63]),a=!0)},p(c,h){h[0]&1073741824&&(e.checked=c[30])},d(c){c&&f(t),a=!1,u()}}}function An(n){let t,e,i="GA",a,u="TS",c,h=!n[36](n[29]),p,g,_,N=n[34]&&Sn(),C=h&&zn(n);return{c(){t=r("select"),e=r("option"),e.textContent=i,a=r("option"),a.textContent=u,N&&N.c(),c=v(),C&&C.c(),p=hn(),this.h()},l(E){t=o(E,"SELECT",{class:!0});var b=k(t);e=o(b,"OPTION",{"data-svelte-h":!0}),P(e)!=="svelte-1ajxxqm"&&(e.textContent=i),a=o(b,"OPTION",{"data-svelte-h":!0}),P(a)!=="svelte-12l3gea"&&(a.textContent=u),N&&N.l(b),b.forEach(f),c=d(E),C&&C.l(E),p=hn(),this.h()},h(){e.__value="ga",T(e,e.__value),a.__value="ts",T(a,a.__value),s(t,"class","phase-type-select svelte-1skih0i"),n[29]===void 0&&es(()=>n[64].call(t))},m(E,b){B(E,t,b),l(t,e),l(t,a),N&&N.m(t,null),Oe(t,n[29],!0),B(E,c,b),C&&C.m(E,b),B(E,p,b),g||(_=j(t,"change",n[64]),g=!0)},p(E,b){E[34]?N||(N=Sn(),N.c(),N.m(t,null)):N&&(N.d(1),N=null),b[0]&536870912&&Oe(t,E[29]),b[0]&536870912&&(h=!E[36](E[29])),h?C?C.p(E,b):(C=zn(E),C.c(),C.m(p.parentNode,p)):C&&(C.d(1),C=null)},d(E){E&&(f(t),f(c),f(p)),N&&N.d(),C&&C.d(E),g=!1,_()}}}function Sn(n){let t,e="Neurogenesis",i,a="Synaptogenesis",u,c="Axonogenesis";return{c(){t=r("option"),t.textContent=e,i=r("option"),i.textContent=a,u=r("option"),u.textContent=c,this.h()},l(h){t=o(h,"OPTION",{"data-svelte-h":!0}),P(t)!=="svelte-14w1hu6"&&(t.textContent=e),i=o(h,"OPTION",{"data-svelte-h":!0}),P(i)!=="svelte-15makti"&&(i.textContent=a),u=o(h,"OPTION",{"data-svelte-h":!0}),P(u)!=="svelte-1aiywne"&&(u.textContent=c),this.h()},h(){t.__value="neurogenesis",T(t,t.__value),i.__value="synaptogenesis",T(i,i.__value),u.__value="axonogenesis",T(u,u.__value)},m(h,p){B(h,t,p),B(h,i,p),B(h,u,p)},d(h){h&&(f(t),f(i),f(u))}}}function zn(n){let t,e,i,a,u,c,h,p,g,_,N,C,E;return{c(){t=r("label"),e=r("input"),i=H(" Neurons"),a=v(),u=r("label"),c=r("input"),h=H(" Bits"),p=v(),g=r("label"),_=r("input"),N=H(" Connections"),this.h()},l(b){t=o(b,"LABEL",{class:!0});var y=k(t);e=o(y,"INPUT",{type:!0,class:!0}),i=q(y," Neurons"),y.forEach(f),a=d(b),u=o(b,"LABEL",{class:!0});var I=k(u);c=o(I,"INPUT",{type:!0,class:!0}),h=q(I," Bits"),I.forEach(f),p=d(b),g=o(b,"LABEL",{class:!0});var L=k(g);_=o(L,"INPUT",{type:!0,class:!0}),N=q(L," Connections"),L.forEach(f),this.h()},h(){s(e,"type","checkbox"),s(e,"class","svelte-1skih0i"),s(t,"class","inline-check svelte-1skih0i"),s(c,"type","checkbox"),s(c,"class","svelte-1skih0i"),s(u,"class","inline-check svelte-1skih0i"),s(_,"type","checkbox"),s(_,"class","svelte-1skih0i"),s(g,"class","inline-check svelte-1skih0i")},m(b,y){B(b,t,y),l(t,e),e.checked=n[31],l(t,i),B(b,a,y),B(b,u,y),l(u,c),c.checked=n[32],l(u,h),B(b,p,y),B(b,g,y),l(g,_),_.checked=n[33],l(g,N),C||(E=[j(e,"change",n[65]),j(c,"change",n[66]),j(_,"change",n[67])],C=!0)},p(b,y){y[1]&1&&(e.checked=b[31]),y[1]&2&&(c.checked=b[32]),y[1]&4&&(_.checked=b[33])},d(b){b&&(f(t),f(a),f(u),f(p),f(g)),C=!1,ds(E)}}}function _i(n){let t,e,i="Tier Configuration",a,u,c,h;function p(_){n[75](_)}let g={};return n[25]!==void 0&&(g.value=n[25]),u=new Kn({props:g}),xn.push(()=>Bn(u,"value",p)),{c(){t=r("div"),e=r("h2"),e.textContent=i,a=v(),Mn(u.$$.fragment),this.h()},l(_){t=o(_,"DIV",{class:!0});var N=k(t);e=o(N,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-p1whhg"&&(e.textContent=i),a=d(N),Fn(u.$$.fragment,N),N.forEach(f),this.h()},h(){s(e,"class","svelte-1skih0i"),s(t,"class","form-section svelte-1skih0i")},m(_,N){B(_,t,N),l(t,e),l(t,a),Gn(u,t,null),h=!0},p(_,N){const C={};!c&&N[0]&33554432&&(c=!0,C.value=_[25],Ln(()=>c=!1)),u.$set(C)},i(_){h||(el(u.$$.fragment,_),h=!0)},o(_){$s(u.$$.fragment,_),h=!1},d(_){_&&f(t),Un(u)}}}function di(n){let t,e,i="Bitwise Configuration",a,u,c,h,p="Clusters",g,_,N,C,E="Output clusters (default 16)",b,y,I,L="Memory Mode",V,D,Q,z="Quad Weighted",S,O="Quad Binary",U,Y="Ternary",Z,$,G,F,oe="Min Bits",J,x,A,K,w,te="Max Bits",le,ee,ne,ce,fe,Ve,pt="Min Neurons",Te,me,ye,de,Be,Tt="Max Neurons",pe,ie,At,ae,Ue,_t="Neuron Sample Rate",dt,re,vt,be,Ge="Fraction of neurons sampled per example (0.25 = 25%)",xe,Ht;return{c(){t=r("div"),e=r("h2"),e.textContent=i,a=v(),u=r("div"),c=r("div"),h=r("label"),h.textContent=p,g=v(),_=r("input"),N=v(),C=r("span"),C.textContent=E,b=v(),y=r("div"),I=r("label"),I.textContent=L,V=v(),D=r("select"),Q=r("option"),Q.textContent=z,S=r("option"),S.textContent=O,U=r("option"),U.textContent=Y,Z=v(),$=r("div"),G=r("div"),F=r("label"),F.textContent=oe,J=v(),x=r("input"),A=v(),K=r("div"),w=r("label"),w.textContent=te,le=v(),ee=r("input"),ne=v(),ce=r("div"),fe=r("div"),Ve=r("label"),Ve.textContent=pt,Te=v(),me=r("input"),ye=v(),de=r("div"),Be=r("label"),Be.textContent=Tt,pe=v(),ie=r("input"),At=v(),ae=r("div"),Ue=r("label"),Ue.textContent=_t,dt=v(),re=r("input"),vt=v(),be=r("span"),be.textContent=Ge,this.h()},l(se){t=o(se,"DIV",{class:!0});var X=k(t);e=o(X,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-n30prd"&&(e.textContent=i),a=d(X),u=o(X,"DIV",{class:!0});var st=k(u);c=o(st,"DIV",{class:!0});var Ce=k(c);h=o(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(h)!=="svelte-14hh2gz"&&(h.textContent=p),g=d(Ce),_=o(Ce,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),N=d(Ce),C=o(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),P(C)!=="svelte-1ddro4q"&&(C.textContent=E),Ce.forEach(f),b=d(st),y=o(st,"DIV",{class:!0});var Ae=k(y);I=o(Ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(I)!=="svelte-qbvlo5"&&(I.textContent=L),V=d(Ae),D=o(Ae,"SELECT",{id:!0,class:!0});var mt=k(D);Q=o(mt,"OPTION",{"data-svelte-h":!0}),P(Q)!=="svelte-15bi0o7"&&(Q.textContent=z),S=o(mt,"OPTION",{"data-svelte-h":!0}),P(S)!=="svelte-1ptnywr"&&(S.textContent=O),U=o(mt,"OPTION",{"data-svelte-h":!0}),P(U)!=="svelte-viuhps"&&(U.textContent=Y),mt.forEach(f),Ae.forEach(f),st.forEach(f),Z=d(X),$=o(X,"DIV",{class:!0});var lt=k($);G=o(lt,"DIV",{class:!0});var ke=k(G);F=o(ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(F)!=="svelte-on0p0r"&&(F.textContent=oe),J=d(ke),x=o(ke,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),ke.forEach(f),A=d(lt),K=o(lt,"DIV",{class:!0});var nt=k(K);w=o(nt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(w)!=="svelte-197r8x7"&&(w.textContent=te),le=d(nt),ee=o(nt,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),nt.forEach(f),lt.forEach(f),ne=d(X),ce=o(X,"DIV",{class:!0});var Ke=k(ce);fe=o(Ke,"DIV",{class:!0});var Se=k(fe);Ve=o(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Ve)!=="svelte-8p2hrv"&&(Ve.textContent=pt),Te=d(Se),me=o(Se,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),Se.forEach(f),ye=d(Ke),de=o(Ke,"DIV",{class:!0});var ze=k(de);Be=o(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Be)!=="svelte-1liovkz"&&(Be.textContent=Tt),pe=d(ze),ie=o(ze,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),ze.forEach(f),Ke.forEach(f),At=d(X),ae=o(X,"DIV",{class:!0});var ge=k(ae);Ue=o(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Ue)!=="svelte-m33h1f"&&(Ue.textContent=_t),dt=d(ge),re=o(ge,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,class:!0}),vt=d(ge),be=o(ge,"SPAN",{class:!0,"data-svelte-h":!0}),P(be)!=="svelte-1fadeiu"&&(be.textContent=Ge),ge.forEach(f),X.forEach(f),this.h()},h(){s(e,"class","svelte-1skih0i"),s(h,"for","bitwiseNumClusters"),s(h,"class","svelte-1skih0i"),s(_,"type","number"),s(_,"id","bitwiseNumClusters"),s(_,"min","1"),s(_,"max","256"),s(_,"class","svelte-1skih0i"),s(C,"class","field-hint svelte-1skih0i"),s(c,"class","form-group svelte-1skih0i"),s(I,"for","bitwiseMemoryMode"),s(I,"class","svelte-1skih0i"),Q.__value="QUAD_WEIGHTED",T(Q,Q.__value),S.__value="QUAD_BINARY",T(S,S.__value),U.__value="TERNARY",T(U,U.__value),s(D,"id","bitwiseMemoryMode"),s(D,"class","svelte-1skih0i"),n[9]===void 0&&es(()=>n[69].call(D)),s(y,"class","form-group svelte-1skih0i"),s(u,"class","form-row svelte-1skih0i"),s(F,"for","bitwiseMinBits"),s(F,"class","svelte-1skih0i"),s(x,"type","number"),s(x,"id","bitwiseMinBits"),s(x,"min","1"),s(x,"max","64"),s(x,"class","svelte-1skih0i"),s(G,"class","form-group svelte-1skih0i"),s(w,"for","bitwiseMaxBits"),s(w,"class","svelte-1skih0i"),s(ee,"type","number"),s(ee,"id","bitwiseMaxBits"),s(ee,"min","1"),s(ee,"max","64"),s(ee,"class","svelte-1skih0i"),s(K,"class","form-group svelte-1skih0i"),s($,"class","form-row svelte-1skih0i"),s(Ve,"for","bitwiseMinNeurons"),s(Ve,"class","svelte-1skih0i"),s(me,"type","number"),s(me,"id","bitwiseMinNeurons"),s(me,"min","1"),s(me,"max","1000"),s(me,"class","svelte-1skih0i"),s(fe,"class","form-group svelte-1skih0i"),s(Be,"for","bitwiseMaxNeurons"),s(Be,"class","svelte-1skih0i"),s(ie,"type","number"),s(ie,"id","bitwiseMaxNeurons"),s(ie,"min","1"),s(ie,"max","1000"),s(ie,"class","svelte-1skih0i"),s(de,"class","form-group svelte-1skih0i"),s(ce,"class","form-row svelte-1skih0i"),s(Ue,"for","bitwiseNeuronSampleRate"),s(Ue,"class","svelte-1skih0i"),s(re,"type","number"),s(re,"id","bitwiseNeuronSampleRate"),s(re,"min","0.01"),s(re,"max","1.0"),s(re,"step","0.01"),s(re,"class","svelte-1skih0i"),s(be,"class","field-hint svelte-1skih0i"),s(ae,"class","form-group svelte-1skih0i"),s(t,"class","form-section svelte-1skih0i")},m(se,X){B(se,t,X),l(t,e),l(t,a),l(t,u),l(u,c),l(c,h),l(c,g),l(c,_),T(_,n[4]),l(c,N),l(c,C),l(u,b),l(u,y),l(y,I),l(y,V),l(y,D),l(D,Q),l(D,S),l(D,U),Oe(D,n[9],!0),l(t,Z),l(t,$),l($,G),l(G,F),l(G,J),l(G,x),T(x,n[5]),l($,A),l($,K),l(K,w),l(K,le),l(K,ee),T(ee,n[6]),l(t,ne),l(t,ce),l(ce,fe),l(fe,Ve),l(fe,Te),l(fe,me),T(me,n[7]),l(ce,ye),l(ce,de),l(de,Be),l(de,pe),l(de,ie),T(ie,n[8]),l(t,At),l(t,ae),l(ae,Ue),l(ae,dt),l(ae,re),T(re,n[10]),l(ae,vt),l(ae,be),xe||(Ht=[j(_,"input",n[68]),j(D,"change",n[69]),j(x,"input",n[70]),j(ee,"input",n[71]),j(me,"input",n[72]),j(ie,"input",n[73]),j(re,"input",n[74])],xe=!0)},p(se,X){X[0]&16&&W(_.value)!==se[4]&&T(_,se[4]),X[0]&512&&Oe(D,se[9]),X[0]&32&&W(x.value)!==se[5]&&T(x,se[5]),X[0]&64&&W(ee.value)!==se[6]&&T(ee,se[6]),X[0]&128&&W(me.value)!==se[7]&&T(me,se[7]),X[0]&256&&W(ie.value)!==se[8]&&T(ie,se[8]),X[0]&1024&&W(re.value)!==se[10]&&T(re,se[10])},i:Nt,o:Nt,d(se){se&&f(t),xe=!1,ds(Ht)}}}function vi(n){let t,e,i='<a href="/flows" class="back-link svelte-1skih0i">← Flows</a> <h1 class="svelte-1skih0i">New Flow</h1>',a,u,c,h,p,g,_,N="Name *",C,E,b,y,I,L="Description",V,D,Q,z,S,O,U,Y="Search Parameters",Z,$,G,F,oe="Template",J,x,A,K="Quick 4-Phase (Tiered)",w,te="Standard 6-Phase (Tiered)",le,ee="Bitwise 7-Phase",ne,ce="Bitwise 10-Phase (+ Adaptation)",fe,Ve="Empty (no phases)",pt,Te,me,ye,de,Be="Phase Order",Tt,pe,ie,At="Neurons First",ae,Ue="Bits First",_t,dt,re,vt,be,Ge,xe,Ht="GA Generations",se,X,st,Ce,Ae,mt="TS Iterations",lt,ke,nt,Ke,Se,ze,ge,ys="Population Size",vs,Fe,ms,it,R,Rt="Neighbors/Iter (TS)",he,ue,bs,ve,Ye,St,Ol="Patience",sl,Xe,ll,ot,zt,Vl="Context Size",nl,Re,il,Wt,Bl="N-gram context window (4 = 4-gram)",ol,Dt,xt,Lt,Ul="Fitness Calculator",rl,Le,bt,Gl="Normalized (Recommended)",kt,Fl="Harmonic Rank",Ct,Ml="Normalized Harmonic",gt,jl="CE Only",al,rt,Ot,ql="Fitness Percentile",ul,Me,cl,Qt,Hl="Keep top N% by fitness",fl,Es,at,Vt,Rl="Accuracy Floor",hl,je,pl,Jt,Wl="Hard floor (0.003 = 0.3%). Below = fitness infinity. 0 = disabled",_l,Bt,ut,Ut,Ql="Threshold Start (%)",dl,qe,vl,Kt,Jl="Accuracy filter at phase 1 (0 = no filter)",ml,ct,Gt,Kl="Threshold Increase / Phase (%)",bl,He,kl,Yt,Yl="How much accuracy filter grows each phase",Cl,ft,Xt,Xl="Seed Checkpoint",gl,Zt,Zl="Optionally seed from a previous run's checkpoint.",yl,yt,El,Il,Et,Ze,Ft,wl,ks=n[35].length+"",Is,Pl,Nl,ws,We,Ps,Ns,ht,Tl,Ts,Al,Qe,Je,Sl,Mt,jt,$l="Cancel",zl,It,Cs=n[27]?"Creating...":"Create Flow",As,wt,Dl,en,Ee=n[28]&&In(n);function tn(m,M){return m[0]==="quick-4-phase"?oi:m[0]==="standard-6-phase"?ii:m[0]==="bitwise-7-phase"?ni:m[0]==="bitwise-10-phase"?li:si}let Ss=tn(n),Pt=Ss(n);function sn(m,M){return m[0]==="bitwise-10-phase"?fi:m[34]?ci:m[0]==="quick-4-phase"?ui:m[1]==="neurons_first"?ai:ri}let zs=sn(n),$e=zs(n),Ie=n[0]==="bitwise-10-phase"&&wn(n),we=(n[18]==="harmonic_rank"||n[18]==="normalized_harmonic")&&Pn(n);function jn(m){n[59](m)}let ln={};n[26]!==void 0&&(ln.value=n[26]),yt=new ti({props:ln}),xn.push(()=>Bn(yt,"value",jn));function nn(m,M){return m[35].length>0?pi:hi}let Ds=nn(n),et=Ds(n),Pe=n[34]&&Tn(n),Ne=!n[30]&&An(n);const on=[di,_i],qt=[];function rn(m,M){return m[34]?0:1}return Qe=rn(n),Je=qt[Qe]=on[Qe](n),{c(){t=r("div"),e=r("div"),e.innerHTML=i,a=v(),u=r("form"),Ee&&Ee.c(),c=v(),h=r("div"),p=r("div"),g=r("div"),_=r("label"),_.textContent=N,C=v(),E=r("input"),b=v(),y=r("div"),I=r("label"),I.textContent=L,V=v(),D=r("input"),Q=v(),z=r("div"),S=r("div"),O=r("div"),U=r("h2"),U.textContent=Y,Z=v(),$=r("div"),G=r("div"),F=r("label"),F.textContent=oe,J=v(),x=r("select"),A=r("option"),A.textContent=K,w=r("option"),w.textContent=te,le=r("option"),le.textContent=ee,ne=r("option"),ne.textContent=ce,fe=r("option"),fe.textContent=Ve,pt=v(),Te=r("span"),Pt.c(),me=v(),ye=r("div"),de=r("label"),de.textContent=Be,Tt=v(),pe=r("select"),ie=r("option"),ie.textContent=At,ae=r("option"),ae.textContent=Ue,dt=v(),re=r("span"),$e.c(),vt=v(),be=r("div"),Ge=r("div"),xe=r("label"),xe.textContent=Ht,se=v(),X=r("input"),st=v(),Ce=r("div"),Ae=r("label"),Ae.textContent=mt,lt=v(),ke=r("input"),nt=v(),Ie&&Ie.c(),Ke=v(),Se=r("div"),ze=r("div"),ge=r("label"),ge.textContent=ys,vs=v(),Fe=r("input"),ms=v(),it=r("div"),R=r("label"),R.textContent=Rt,he=v(),ue=r("input"),bs=v(),ve=r("div"),Ye=r("div"),St=r("label"),St.textContent=Ol,sl=v(),Xe=r("input"),ll=v(),ot=r("div"),zt=r("label"),zt.textContent=Vl,nl=v(),Re=r("input"),il=v(),Wt=r("span"),Wt.textContent=Bl,ol=v(),Dt=r("div"),xt=r("div"),Lt=r("label"),Lt.textContent=Ul,rl=v(),Le=r("select"),bt=r("option"),bt.textContent=Gl,kt=r("option"),kt.textContent=Fl,Ct=r("option"),Ct.textContent=Ml,gt=r("option"),gt.textContent=jl,al=v(),rt=r("div"),Ot=r("label"),Ot.textContent=ql,ul=v(),Me=r("input"),cl=v(),Qt=r("span"),Qt.textContent=Hl,fl=v(),we&&we.c(),Es=v(),at=r("div"),Vt=r("label"),Vt.textContent=Rl,hl=v(),je=r("input"),pl=v(),Jt=r("span"),Jt.textContent=Wl,_l=v(),Bt=r("div"),ut=r("div"),Ut=r("label"),Ut.textContent=Ql,dl=v(),qe=r("input"),vl=v(),Kt=r("span"),Kt.textContent=Jl,ml=v(),ct=r("div"),Gt=r("label"),Gt.textContent=Kl,bl=v(),He=r("input"),kl=v(),Yt=r("span"),Yt.textContent=Yl,Cl=v(),ft=r("div"),Xt=r("h2"),Xt.textContent=Xl,gl=v(),Zt=r("p"),Zt.textContent=Zl,yl=v(),Mn(yt.$$.fragment),Il=v(),Et=r("div"),Ze=r("div"),Ft=r("h2"),wl=H("Phases ("),Is=H(ks),Pl=H(")"),Nl=v(),et.c(),ws=v(),We=r("div"),Pe&&Pe.c(),Ps=v(),Ne&&Ne.c(),Ns=v(),ht=r("button"),Tl=H("+ Add Phase"),Al=v(),Je.c(),Sl=v(),Mt=r("div"),jt=r("a"),jt.textContent=$l,zl=v(),It=r("button"),As=H(Cs),this.h()},l(m){t=o(m,"DIV",{class:!0});var M=k(t);e=o(M,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u46li6"&&(e.innerHTML=i),a=d(M),u=o(M,"FORM",{class:!0});var tt=k(u);Ee&&Ee.l(tt),c=d(tt),h=o(tt,"DIV",{class:!0});var ts=k(h);p=o(ts,"DIV",{class:!0});var xs=k(p);g=o(xs,"DIV",{class:!0});var Ls=k(g);_=o(Ls,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(_)!=="svelte-141fipc"&&(_.textContent=N),C=d(Ls),E=o(Ls,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Ls.forEach(f),b=d(xs),y=o(xs,"DIV",{class:!0});var Os=k(y);I=o(Os,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(I)!=="svelte-1tds9bi"&&(I.textContent=L),V=d(Os),D=o(Os,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Os.forEach(f),xs.forEach(f),ts.forEach(f),Q=d(tt),z=o(tt,"DIV",{class:!0});var Vs=k(z);S=o(Vs,"DIV",{class:!0});var Bs=k(S);O=o(Bs,"DIV",{class:!0});var _e=k(O);U=o(_e,"H2",{class:!0,"data-svelte-h":!0}),P(U)!=="svelte-1mqi9ra"&&(U.textContent=Y),Z=d(_e),$=o(_e,"DIV",{class:!0});var Us=k($);G=o(Us,"DIV",{class:!0});var ss=k(G);F=o(ss,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(F)!=="svelte-13wcwza"&&(F.textContent=oe),J=d(ss),x=o(ss,"SELECT",{id:!0,class:!0});var ls=k(x);A=o(ls,"OPTION",{"data-svelte-h":!0}),P(A)!=="svelte-jfva4j"&&(A.textContent=K),w=o(ls,"OPTION",{"data-svelte-h":!0}),P(w)!=="svelte-1qhe43z"&&(w.textContent=te),le=o(ls,"OPTION",{"data-svelte-h":!0}),P(le)!=="svelte-kjn4an"&&(le.textContent=ee),ne=o(ls,"OPTION",{"data-svelte-h":!0}),P(ne)!=="svelte-1mi2f2g"&&(ne.textContent=ce),fe=o(ls,"OPTION",{"data-svelte-h":!0}),P(fe)!=="svelte-1ob8we4"&&(fe.textContent=Ve),ls.forEach(f),pt=d(ss),Te=o(ss,"SPAN",{class:!0});var an=k(Te);Pt.l(an),an.forEach(f),ss.forEach(f),me=d(Us),ye=o(Us,"DIV",{class:!0});var ns=k(ye);de=o(ns,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(de)!=="svelte-eis1uy"&&(de.textContent=Be),Tt=d(ns),pe=o(ns,"SELECT",{id:!0,class:!0});var xl=k(pe);ie=o(xl,"OPTION",{"data-svelte-h":!0}),P(ie)!=="svelte-887pit"&&(ie.textContent=At),ae=o(xl,"OPTION",{"data-svelte-h":!0}),P(ae)!=="svelte-204pvn"&&(ae.textContent=Ue),xl.forEach(f),dt=d(ns),re=o(ns,"SPAN",{class:!0});var un=k(re);$e.l(un),un.forEach(f),ns.forEach(f),Us.forEach(f),vt=d(_e),be=o(_e,"DIV",{class:!0});var Gs=k(be);Ge=o(Gs,"DIV",{class:!0});var Fs=k(Ge);xe=o(Fs,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(xe)!=="svelte-1svizp6"&&(xe.textContent=Ht),se=d(Fs),X=o(Fs,"INPUT",{type:!0,id:!0,min:!0,class:!0}),Fs.forEach(f),st=d(Gs),Ce=o(Gs,"DIV",{class:!0});var Ms=k(Ce);Ae=o(Ms,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Ae)!=="svelte-1juqypp"&&(Ae.textContent=mt),lt=d(Ms),ke=o(Ms,"INPUT",{type:!0,id:!0,min:!0,class:!0}),Ms.forEach(f),Gs.forEach(f),nt=d(_e),Ie&&Ie.l(_e),Ke=d(_e),Se=o(_e,"DIV",{class:!0});var js=k(Se);ze=o(js,"DIV",{class:!0});var qs=k(ze);ge=o(qs,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(ge)!=="svelte-1agcpbs"&&(ge.textContent=ys),vs=d(qs),Fe=o(qs,"INPUT",{type:!0,id:!0,min:!0,class:!0}),qs.forEach(f),ms=d(js),it=o(js,"DIV",{class:!0});var Hs=k(it);R=o(Hs,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(R)!=="svelte-m9ngd0"&&(R.textContent=Rt),he=d(Hs),ue=o(Hs,"INPUT",{type:!0,id:!0,min:!0,class:!0}),Hs.forEach(f),js.forEach(f),bs=d(_e),ve=o(_e,"DIV",{class:!0});var Rs=k(ve);Ye=o(Rs,"DIV",{class:!0});var Ws=k(Ye);St=o(Ws,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(St)!=="svelte-1p2vfvu"&&(St.textContent=Ol),sl=d(Ws),Xe=o(Ws,"INPUT",{type:!0,id:!0,min:!0,class:!0}),Ws.forEach(f),ll=d(Rs),ot=o(Rs,"DIV",{class:!0});var is=k(ot);zt=o(is,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(zt)!=="svelte-1u8h7fc"&&(zt.textContent=Vl),nl=d(is),Re=o(is,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0}),il=d(is),Wt=o(is,"SPAN",{class:!0,"data-svelte-h":!0}),P(Wt)!=="svelte-190lsto"&&(Wt.textContent=Bl),is.forEach(f),Rs.forEach(f),ol=d(_e),Dt=o(_e,"DIV",{class:!0});var Qs=k(Dt);xt=o(Qs,"DIV",{class:!0});var Js=k(xt);Lt=o(Js,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Lt)!=="svelte-1v46lay"&&(Lt.textContent=Ul),rl=d(Js),Le=o(Js,"SELECT",{id:!0,class:!0});var gs=k(Le);bt=o(gs,"OPTION",{"data-svelte-h":!0}),P(bt)!=="svelte-7fs0yk"&&(bt.textContent=Gl),kt=o(gs,"OPTION",{"data-svelte-h":!0}),P(kt)!=="svelte-162ojml"&&(kt.textContent=Fl),Ct=o(gs,"OPTION",{"data-svelte-h":!0}),P(Ct)!=="svelte-7bmpcf"&&(Ct.textContent=Ml),gt=o(gs,"OPTION",{"data-svelte-h":!0}),P(gt)!=="svelte-prbw6i"&&(gt.textContent=jl),gs.forEach(f),Js.forEach(f),al=d(Qs),rt=o(Qs,"DIV",{class:!0});var os=k(rt);Ot=o(os,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Ot)!=="svelte-zwp8su"&&(Ot.textContent=ql),ul=d(os),Me=o(os,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,class:!0}),cl=d(os),Qt=o(os,"SPAN",{class:!0,"data-svelte-h":!0}),P(Qt)!=="svelte-4lmmpz"&&(Qt.textContent=Hl),os.forEach(f),Qs.forEach(f),fl=d(_e),we&&we.l(_e),Es=d(_e),at=o(_e,"DIV",{class:!0});var rs=k(at);Vt=o(rs,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Vt)!=="svelte-1dkz0w8"&&(Vt.textContent=Rl),hl=d(rs),je=o(rs,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,class:!0}),pl=d(rs),Jt=o(rs,"SPAN",{class:!0,"data-svelte-h":!0}),P(Jt)!=="svelte-1tzt488"&&(Jt.textContent=Wl),rs.forEach(f),_l=d(_e),Bt=o(_e,"DIV",{class:!0});var Ks=k(Bt);ut=o(Ks,"DIV",{class:!0});var as=k(ut);Ut=o(as,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Ut)!=="svelte-j6d4eo"&&(Ut.textContent=Ql),dl=d(as),qe=o(as,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,class:!0}),vl=d(as),Kt=o(as,"SPAN",{class:!0,"data-svelte-h":!0}),P(Kt)!=="svelte-9p99gg"&&(Kt.textContent=Jl),as.forEach(f),ml=d(Ks),ct=o(Ks,"DIV",{class:!0});var us=k(ct);Gt=o(us,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(Gt)!=="svelte-10zja6a"&&(Gt.textContent=Kl),bl=d(us),He=o(us,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,class:!0}),kl=d(us),Yt=o(us,"SPAN",{class:!0,"data-svelte-h":!0}),P(Yt)!=="svelte-1g0e403"&&(Yt.textContent=Yl),us.forEach(f),Ks.forEach(f),_e.forEach(f),Cl=d(Bs),ft=o(Bs,"DIV",{class:!0});var cs=k(ft);Xt=o(cs,"H2",{class:!0,"data-svelte-h":!0}),P(Xt)!=="svelte-1d1chit"&&(Xt.textContent=Xl),gl=d(cs),Zt=o(cs,"P",{class:!0,"data-svelte-h":!0}),P(Zt)!=="svelte-jeg06x"&&(Zt.textContent=Zl),yl=d(cs),Fn(yt.$$.fragment,cs),cs.forEach(f),Bs.forEach(f),Il=d(Vs),Et=o(Vs,"DIV",{class:!0});var Ys=k(Et);Ze=o(Ys,"DIV",{class:!0});var fs=k(Ze);Ft=o(fs,"H2",{class:!0});var Xs=k(Ft);wl=q(Xs,"Phases ("),Is=q(Xs,ks),Pl=q(Xs,")"),Xs.forEach(f),Nl=d(fs),et.l(fs),ws=d(fs),We=o(fs,"DIV",{class:!0});var hs=k(We);Pe&&Pe.l(hs),Ps=d(hs),Ne&&Ne.l(hs),Ns=d(hs),ht=o(hs,"BUTTON",{type:!0,class:!0});var cn=k(ht);Tl=q(cn,"+ Add Phase"),cn.forEach(f),hs.forEach(f),fs.forEach(f),Al=d(Ys),Je.l(Ys),Ys.forEach(f),Vs.forEach(f),Sl=d(tt),Mt=o(tt,"DIV",{class:!0});var Zs=k(Mt);jt=o(Zs,"A",{href:!0,class:!0,"data-svelte-h":!0}),P(jt)!=="svelte-z7ax60"&&(jt.textContent=$l),zl=d(Zs),It=o(Zs,"BUTTON",{type:!0,class:!0});var fn=k(It);As=q(fn,Cs),fn.forEach(f),Zs.forEach(f),tt.forEach(f),M.forEach(f),this.h()},h(){s(e,"class","page-header svelte-1skih0i"),s(_,"for","name"),s(_,"class","svelte-1skih0i"),s(E,"type","text"),s(E,"id","name"),s(E,"placeholder","e.g., Pass 1 - Initial Search"),s(E,"class","svelte-1skih0i"),s(g,"class","form-group svelte-1skih0i"),s(I,"for","description"),s(I,"class","svelte-1skih0i"),s(D,"type","text"),s(D,"id","description"),s(D,"placeholder","Optional description..."),s(D,"class","svelte-1skih0i"),s(y,"class","form-group svelte-1skih0i"),s(p,"class","form-row svelte-1skih0i"),s(h,"class","form-section svelte-1skih0i"),s(U,"class","svelte-1skih0i"),s(F,"for","template"),s(F,"class","svelte-1skih0i"),A.__value="quick-4-phase",T(A,A.__value),w.__value="standard-6-phase",T(w,w.__value),le.__value="bitwise-7-phase",T(le,le.__value),ne.__value="bitwise-10-phase",T(ne,ne.__value),fe.__value="empty",T(fe,fe.__value),s(x,"id","template"),s(x,"class","svelte-1skih0i"),n[0]===void 0&&es(()=>n[43].call(x)),s(Te,"class","field-hint svelte-1skih0i"),s(G,"class","form-group svelte-1skih0i"),s(de,"for","phaseOrder"),s(de,"class","svelte-1skih0i"),ie.__value="neurons_first",T(ie,ie.__value),ae.__value="bits_first",T(ae,ae.__value),s(pe,"id","phaseOrder"),pe.disabled=_t=n[0]==="empty"||n[0]==="bitwise-10-phase",s(pe,"class","svelte-1skih0i"),n[1]===void 0&&es(()=>n[44].call(pe)),s(re,"class","field-hint svelte-1skih0i"),s(ye,"class","form-group svelte-1skih0i"),s($,"class","form-row svelte-1skih0i"),s(xe,"for","gaGens"),s(xe,"class","svelte-1skih0i"),s(X,"type","number"),s(X,"id","gaGens"),s(X,"min","1"),s(X,"class","svelte-1skih0i"),s(Ge,"class","form-group svelte-1skih0i"),s(Ae,"for","tsIters"),s(Ae,"class","svelte-1skih0i"),s(ke,"type","number"),s(ke,"id","tsIters"),s(ke,"min","1"),s(ke,"class","svelte-1skih0i"),s(Ce,"class","form-group svelte-1skih0i"),s(be,"class","form-row svelte-1skih0i"),s(ge,"for","popSize"),s(ge,"class","svelte-1skih0i"),s(Fe,"type","number"),s(Fe,"id","popSize"),s(Fe,"min","1"),s(Fe,"class","svelte-1skih0i"),s(ze,"class","form-group svelte-1skih0i"),s(R,"for","neighborsPerIter"),s(R,"class","svelte-1skih0i"),s(ue,"type","number"),s(ue,"id","neighborsPerIter"),s(ue,"min","1"),s(ue,"class","svelte-1skih0i"),s(it,"class","form-group svelte-1skih0i"),s(Se,"class","form-row svelte-1skih0i"),s(St,"for","patience"),s(St,"class","svelte-1skih0i"),s(Xe,"type","number"),s(Xe,"id","patience"),s(Xe,"min","1"),s(Xe,"class","svelte-1skih0i"),s(Ye,"class","form-group svelte-1skih0i"),s(zt,"for","contextSize"),s(zt,"class","svelte-1skih0i"),s(Re,"type","number"),s(Re,"id","contextSize"),s(Re,"min","2"),s(Re,"max","16"),s(Re,"class","svelte-1skih0i"),s(Wt,"class","field-hint svelte-1skih0i"),s(ot,"class","form-group svelte-1skih0i"),s(ve,"class","form-row svelte-1skih0i"),s(Lt,"for","fitnessCalculator"),s(Lt,"class","svelte-1skih0i"),bt.__value="normalized",T(bt,bt.__value),kt.__value="harmonic_rank",T(kt,kt.__value),Ct.__value="normalized_harmonic",T(Ct,Ct.__value),gt.__value="ce",T(gt,gt.__value),s(Le,"id","fitnessCalculator"),s(Le,"class","svelte-1skih0i"),n[18]===void 0&&es(()=>n[52].call(Le)),s(xt,"class","form-group svelte-1skih0i"),s(Ot,"for","fitnessPercentile"),s(Ot,"class","svelte-1skih0i"),s(Me,"type","number"),s(Me,"id","fitnessPercentile"),s(Me,"min","0"),s(Me,"max","1"),s(Me,"step","0.05"),s(Me,"class","svelte-1skih0i"),s(Qt,"class","field-hint svelte-1skih0i"),s(rt,"class","form-group svelte-1skih0i"),s(Dt,"class","form-row svelte-1skih0i"),s(Vt,"for","minAccuracyFloor"),s(Vt,"class","svelte-1skih0i"),s(je,"type","number"),s(je,"id","minAccuracyFloor"),s(je,"min","0"),s(je,"max","0.1"),s(je,"step","0.001"),s(je,"class","svelte-1skih0i"),s(Jt,"class","field-hint svelte-1skih0i"),s(at,"class","form-group svelte-1skih0i"),s(Ut,"for","thresholdStart"),s(Ut,"class","svelte-1skih0i"),s(qe,"type","number"),s(qe,"id","thresholdStart"),s(qe,"min","0"),s(qe,"max","50"),s(qe,"step","0.1"),s(qe,"class","svelte-1skih0i"),s(Kt,"class","field-hint svelte-1skih0i"),s(ut,"class","form-group svelte-1skih0i"),s(Gt,"for","thresholdStep"),s(Gt,"class","svelte-1skih0i"),s(He,"type","number"),s(He,"id","thresholdStep"),s(He,"min","0"),s(He,"max","50"),s(He,"step","0.1"),s(He,"class","svelte-1skih0i"),s(Yt,"class","field-hint svelte-1skih0i"),s(ct,"class","form-group svelte-1skih0i"),s(Bt,"class","form-row svelte-1skih0i"),s(O,"class","form-section svelte-1skih0i"),s(Xt,"class","svelte-1skih0i"),s(Zt,"class","section-hint svelte-1skih0i"),s(ft,"class","form-section svelte-1skih0i"),s(S,"class","left-column svelte-1skih0i"),s(Ft,"class","svelte-1skih0i"),s(ht,"type","button"),s(ht,"class","btn btn-add svelte-1skih0i"),ht.disabled=Ts=!n[30]&&!n[36](n[29])&&!n[31]&&!n[32]&&!n[33],s(We,"class","add-phase-row svelte-1skih0i"),s(Ze,"class","form-section svelte-1skih0i"),s(Et,"class","right-column svelte-1skih0i"),s(z,"class","form-columns svelte-1skih0i"),s(jt,"href","/flows"),s(jt,"class","btn btn-secondary svelte-1skih0i"),s(It,"type","submit"),s(It,"class","btn btn-primary svelte-1skih0i"),It.disabled=n[27],s(Mt,"class","form-actions svelte-1skih0i"),s(u,"class","form svelte-1skih0i"),s(t,"class","container")},m(m,M){B(m,t,M),l(t,e),l(t,a),l(t,u),Ee&&Ee.m(u,null),l(u,c),l(u,h),l(h,p),l(p,g),l(g,_),l(g,C),l(g,E),T(E,n[2]),l(p,b),l(p,y),l(y,I),l(y,V),l(y,D),T(D,n[3]),l(u,Q),l(u,z),l(z,S),l(S,O),l(O,U),l(O,Z),l(O,$),l($,G),l(G,F),l(G,J),l(G,x),l(x,A),l(x,w),l(x,le),l(x,ne),l(x,fe),Oe(x,n[0],!0),l(G,pt),l(G,Te),Pt.m(Te,null),l($,me),l($,ye),l(ye,de),l(ye,Tt),l(ye,pe),l(pe,ie),l(pe,ae),Oe(pe,n[1],!0),l(ye,dt),l(ye,re),$e.m(re,null),l(O,vt),l(O,be),l(be,Ge),l(Ge,xe),l(Ge,se),l(Ge,X),T(X,n[11]),l(be,st),l(be,Ce),l(Ce,Ae),l(Ce,lt),l(Ce,ke),T(ke,n[12]),l(O,nt),Ie&&Ie.m(O,null),l(O,Ke),l(O,Se),l(Se,ze),l(ze,ge),l(ze,vs),l(ze,Fe),T(Fe,n[14]),l(Se,ms),l(Se,it),l(it,R),l(it,he),l(it,ue),T(ue,n[15]),l(O,bs),l(O,ve),l(ve,Ye),l(Ye,St),l(Ye,sl),l(Ye,Xe),T(Xe,n[16]),l(ve,ll),l(ve,ot),l(ot,zt),l(ot,nl),l(ot,Re),T(Re,n[24]),l(ot,il),l(ot,Wt),l(O,ol),l(O,Dt),l(Dt,xt),l(xt,Lt),l(xt,rl),l(xt,Le),l(Le,bt),l(Le,kt),l(Le,Ct),l(Le,gt),Oe(Le,n[18],!0),l(Dt,al),l(Dt,rt),l(rt,Ot),l(rt,ul),l(rt,Me),T(Me,n[17]),l(rt,cl),l(rt,Qt),l(O,fl),we&&we.m(O,null),l(O,Es),l(O,at),l(at,Vt),l(at,hl),l(at,je),T(je,n[21]),l(at,pl),l(at,Jt),l(O,_l),l(O,Bt),l(Bt,ut),l(ut,Ut),l(ut,dl),l(ut,qe),T(qe,n[22]),l(ut,vl),l(ut,Kt),l(Bt,ml),l(Bt,ct),l(ct,Gt),l(ct,bl),l(ct,He),T(He,n[23]),l(ct,kl),l(ct,Yt),l(S,Cl),l(S,ft),l(ft,Xt),l(ft,gl),l(ft,Zt),l(ft,yl),Gn(yt,ft,null),l(z,Il),l(z,Et),l(Et,Ze),l(Ze,Ft),l(Ft,wl),l(Ft,Is),l(Ft,Pl),l(Ze,Nl),et.m(Ze,null),l(Ze,ws),l(Ze,We),Pe&&Pe.m(We,null),l(We,Ps),Ne&&Ne.m(We,null),l(We,Ns),l(We,ht),l(ht,Tl),l(Et,Al),qt[Qe].m(Et,null),l(u,Sl),l(u,Mt),l(Mt,jt),l(Mt,zl),l(Mt,It),l(It,As),wt=!0,Dl||(en=[j(E,"input",n[41]),j(D,"input",n[42]),j(x,"change",n[43]),j(pe,"change",n[44]),j(X,"input",n[45]),j(ke,"input",n[46]),j(Fe,"input",n[48]),j(ue,"input",n[49]),j(Xe,"input",n[50]),j(Re,"input",n[51]),j(Le,"change",n[52]),j(Me,"input",n[53]),j(je,"input",n[56]),j(qe,"input",n[57]),j(He,"input",n[58]),j(ht,"click",n[37]),j(u,"submit",Rn(n[40]))],Dl=!0)},p(m,M){m[28]?Ee?Ee.p(m,M):(Ee=In(m),Ee.c(),Ee.m(u,c)):Ee&&(Ee.d(1),Ee=null),M[0]&4&&E.value!==m[2]&&T(E,m[2]),M[0]&8&&D.value!==m[3]&&T(D,m[3]),M[0]&1&&Oe(x,m[0]),Ss!==(Ss=tn(m))&&(Pt.d(1),Pt=Ss(m),Pt&&(Pt.c(),Pt.m(Te,null))),(!wt||M[0]&1&&_t!==(_t=m[0]==="empty"||m[0]==="bitwise-10-phase"))&&(pe.disabled=_t),M[0]&2&&Oe(pe,m[1]),zs===(zs=sn(m))&&$e?$e.p(m,M):($e.d(1),$e=zs(m),$e&&($e.c(),$e.m(re,null))),M[0]&2048&&W(X.value)!==m[11]&&T(X,m[11]),M[0]&4096&&W(ke.value)!==m[12]&&T(ke,m[12]),m[0]==="bitwise-10-phase"?Ie?Ie.p(m,M):(Ie=wn(m),Ie.c(),Ie.m(O,Ke)):Ie&&(Ie.d(1),Ie=null),M[0]&16384&&W(Fe.value)!==m[14]&&T(Fe,m[14]),M[0]&32768&&W(ue.value)!==m[15]&&T(ue,m[15]),M[0]&65536&&W(Xe.value)!==m[16]&&T(Xe,m[16]),M[0]&16777216&&W(Re.value)!==m[24]&&T(Re,m[24]),M[0]&262144&&Oe(Le,m[18]),M[0]&131072&&W(Me.value)!==m[17]&&T(Me,m[17]),m[18]==="harmonic_rank"||m[18]==="normalized_harmonic"?we?we.p(m,M):(we=Pn(m),we.c(),we.m(O,Es)):we&&(we.d(1),we=null),M[0]&2097152&&W(je.value)!==m[21]&&T(je,m[21]),M[0]&4194304&&W(qe.value)!==m[22]&&T(qe,m[22]),M[0]&8388608&&W(He.value)!==m[23]&&T(He,m[23]);const tt={};!El&&M[0]&67108864&&(El=!0,tt.value=m[26],Ln(()=>El=!1)),yt.$set(tt),(!wt||M[1]&16)&&ks!==(ks=m[35].length+"")&&De(Is,ks),Ds===(Ds=nn(m))&&et?et.p(m,M):(et.d(1),et=Ds(m),et&&(et.c(),et.m(Ze,ws))),m[34]?Pe?Pe.p(m,M):(Pe=Tn(m),Pe.c(),Pe.m(We,Ps)):Pe&&(Pe.d(1),Pe=null),m[30]?Ne&&(Ne.d(1),Ne=null):Ne?Ne.p(m,M):(Ne=An(m),Ne.c(),Ne.m(We,Ns)),(!wt||M[0]&1610612736|M[1]&7&&Ts!==(Ts=!m[30]&&!m[36](m[29])&&!m[31]&&!m[32]&&!m[33]))&&(ht.disabled=Ts);let ts=Qe;Qe=rn(m),Qe===ts?qt[Qe].p(m,M):(Qn(),$s(qt[ts],1,1,()=>{qt[ts]=null}),Wn(),Je=qt[Qe],Je?Je.p(m,M):(Je=qt[Qe]=on[Qe](m),Je.c()),el(Je,1),Je.m(Et,null)),(!wt||M[0]&134217728)&&Cs!==(Cs=m[27]?"Creating...":"Create Flow")&&De(As,Cs),(!wt||M[0]&134217728)&&(It.disabled=m[27])},i(m){wt||(el(yt.$$.fragment,m),el(Je),wt=!0)},o(m){$s(yt.$$.fragment,m),$s(Je),wt=!1},d(m){m&&f(t),Ee&&Ee.d(),Pt.d(),$e.d(),Ie&&Ie.d(),we&&we.d(),Un(yt),et.d(),Pe&&Pe.d(),Ne&&Ne.d(),qt[Qe].d(),Dl=!1,ds(en)}}}function mi(n,t){if(n==="empty")return[];const e=[{name:"GA Neurons",experiment_type:"ga",optimize_bits:!1,optimize_neurons:!0,optimize_connections:!1},{name:"TS Neurons (refine)",experiment_type:"ts",optimize_bits:!1,optimize_neurons:!0,optimize_connections:!1}],i=[{name:"GA Bits",experiment_type:"ga",optimize_bits:!0,optimize_neurons:!1,optimize_connections:!1},{name:"TS Bits (refine)",experiment_type:"ts",optimize_bits:!0,optimize_neurons:!1,optimize_connections:!1}],a=[{name:"GA Connections",experiment_type:"ga",optimize_bits:!1,optimize_neurons:!1,optimize_connections:!0},{name:"TS Connections (refine)",experiment_type:"ts",optimize_bits:!1,optimize_neurons:!1,optimize_connections:!0}];if(n==="bitwise-10-phase"){const u={name:"Grid Search (neurons × bits)",experiment_type:"ga",optimize_bits:!0,optimize_neurons:!0,optimize_connections:!1,phase_type:"grid_search"},c={name:"Neurogenesis",experiment_type:"neurogenesis",optimize_bits:!1,optimize_neurons:!1,optimize_connections:!1,phase_type:"neurogenesis"},h={name:"Synaptogenesis",experiment_type:"synaptogenesis",optimize_bits:!1,optimize_neurons:!1,optimize_connections:!1,phase_type:"synaptogenesis"},p={name:"Axonogenesis",experiment_type:"axonogenesis",optimize_bits:!1,optimize_neurons:!1,optimize_connections:!1,phase_type:"axonogenesis"};return[u,e[0],c,e[1],i[0],h,i[1],a[0],p,a[1]]}if(n==="bitwise-7-phase"){const u={name:"Grid Search (neurons × bits)",experiment_type:"ga",optimize_bits:!0,optimize_neurons:!0,optimize_connections:!1,phase_type:"grid_search"};return t==="bits_first"?[u,...i,...e,...a]:[u,...e,...i,...a]}return n==="quick-4-phase"?t==="bits_first"?[...i,...e]:[...e,...i]:t==="bits_first"?[...i,...e,...a]:[...e,...i,...a]}function bi(n,t,e,i){const a=[];return t&&a.push("Neurons"),e&&a.push("Bits"),i&&a.push("Connections"),`${n.toUpperCase()} ${a.join(" + ")}`}function ki(n,t,e){let i,a,u="",c="",h="bitwise-7-phase",p="neurons_first",g=16,_=10,N=24,C=10,E=300,b="QUAD_WEIGHTED",y=.25,I=250,L=250,V=50,D=50,Q=50,z=10,S=.75,O="harmonic_rank",U=1,Y=1,Z=0,$=0,G=1,F=4,oe="100,15,20,true;400,10,12,false;rest,5,8,false";function J(R){R==="quick-4-phase"?(e(11,I=50),e(12,L=50),e(14,D=50),e(15,Q=50),e(16,z=2),e(17,S=.75),e(18,O="normalized_harmonic"),e(19,U=1),e(20,Y=1),e(24,F=4),e(25,oe="100,15,16,true;400,10,12,false;rest,5,8,false"),e(1,p="neurons_first")):R==="standard-6-phase"?(e(11,I=250),e(12,L=250),e(14,D=50),e(15,Q=50),e(16,z=10),e(17,S=.75),e(18,O="normalized_harmonic"),e(19,U=1),e(20,Y=1),e(24,F=4),e(25,oe="100,15,20,true;400,10,12,false;rest,5,8,false")):R==="bitwise-7-phase"?(e(11,I=250),e(12,L=250),e(14,D=50),e(15,Q=50),e(16,z=10),e(17,S=.75),e(18,O="harmonic_rank"),e(19,U=1),e(20,Y=1),e(24,F=4),e(4,g=16),e(5,_=10),e(6,N=24),e(7,C=10),e(8,E=300),e(9,b="QUAD_WEIGHTED"),e(10,y=.25)):R==="bitwise-10-phase"&&(e(11,I=250),e(12,L=250),e(13,V=50),e(14,D=50),e(15,Q=50),e(16,z=10),e(17,S=.75),e(18,O="harmonic_rank"),e(19,U=1),e(20,Y=1),e(24,F=4),e(4,g=16),e(5,_=10),e(6,N=24),e(7,C=10),e(8,E=300),e(9,b="QUAD_WEIGHTED"),e(10,y=.25))}let x=null,A=!1,K=null,w="ga",te=!1,le=!0,ee=!1,ne=!1;const ce=["neurogenesis","synaptogenesis","axonogenesis"];function fe(R){return ce.includes(R)}function Ve(){if(te){e(35,a=[...a,{name:"Grid Search (neurons × bits)",experiment_type:"ga",optimize_bits:!0,optimize_neurons:!0,optimize_connections:!1,phase_type:"grid_search"}]);return}if(fe(w)){const R=w.charAt(0).toUpperCase()+w.slice(1);e(35,a=[...a,{name:R,experiment_type:w,optimize_bits:!1,optimize_neurons:!1,optimize_connections:!1,phase_type:w}]);return}!le&&!ee&&!ne||e(35,a=[...a,{name:bi(w,le,ee,ne),experiment_type:w,optimize_bits:ee,optimize_neurons:le,optimize_connections:ne}])}function pt(R){e(35,a=a.filter((Rt,he)=>he!==R))}function Te(R,Rt){const he=R+Rt;if(he<0||he>=a.length)return;const ue=[...a];[ue[R],ue[he]]=[ue[he],ue[R]],e(35,a=ue)}async function me(){if(!u.trim()){e(28,K="Name is required");return}e(27,A=!0),e(28,K=null);try{const R=new Set(["neurogenesis","synaptogenesis","axonogenesis"]),Rt=a.map(ve=>{const Ye=R.has(ve.phase_type??"");return{...ve,params:{generations:ve.phase_type==="grid_search"?void 0:Ye?V:ve.experiment_type==="ga"?I:void 0,iterations:ve.phase_type==="grid_search"?void 0:Ye?V:ve.experiment_type==="ts"?L:void 0,population_size:D,neighbors_per_iter:Q,...ve.phase_type?{phase_type:ve.phase_type}:{}}}}),he={phase_order:p,ga_generations:I,ts_iterations:L,adaptation_iterations:V,population_size:D,neighbors_per_iter:Q,patience:z,fitness_percentile:S,fitness_calculator:O,fitness_weight_ce:U,fitness_weight_acc:Y,min_accuracy_floor:Z,threshold_start:$,threshold_step:G,context_size:F};i?(he.architecture_type="bitwise",he.num_clusters=g,he.min_bits=_,he.max_bits=N,he.min_neurons=C,he.max_neurons=E,he.memory_mode=b,he.neuron_sample_rate=y):he.tier_config=oe||null;const ue=await fetch("/api/flows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u,description:c||null,config:{template:h,params:he},experiments:Rt,seed_checkpoint_id:x})});if(!ue.ok){const ve=await ue.json().catch(()=>({}));throw new Error(ve.error||`Failed to create flow (${ue.status})`)}const bs=await ue.json();Jn(`/flows/${bs.id}`)}catch(R){e(28,K=R instanceof Error?R.message:"Unknown error")}finally{e(27,A=!1)}}function ye(){u=this.value,e(2,u)}function de(){c=this.value,e(3,c)}function Be(){h=$t(this),e(0,h)}function Tt(){p=$t(this),e(1,p)}function pe(){I=W(this.value),e(11,I)}function ie(){L=W(this.value),e(12,L)}function At(){V=W(this.value),e(13,V)}function ae(){D=W(this.value),e(14,D)}function Ue(){Q=W(this.value),e(15,Q)}function _t(){z=W(this.value),e(16,z)}function dt(){F=W(this.value),e(24,F)}function re(){O=$t(this),e(18,O)}function vt(){S=W(this.value),e(17,S)}function be(){U=W(this.value),e(19,U)}function Ge(){Y=W(this.value),e(20,Y)}function xe(){Z=W(this.value),e(21,Z)}function Ht(){$=W(this.value),e(22,$)}function se(){G=W(this.value),e(23,G)}function X(R){x=R,e(26,x)}const st=R=>Te(R,-1),Ce=R=>Te(R,1),Ae=R=>pt(R);function mt(){te=this.checked,e(30,te)}function lt(){w=$t(this),e(29,w)}function ke(){le=this.checked,e(31,le)}function nt(){ee=this.checked,e(32,ee)}function Ke(){ne=this.checked,e(33,ne)}function Se(){g=W(this.value),e(4,g)}function ze(){b=$t(this),e(9,b)}function ge(){_=W(this.value),e(5,_)}function ys(){N=W(this.value),e(6,N)}function vs(){C=W(this.value),e(7,C)}function Fe(){E=W(this.value),e(8,E)}function ms(){y=W(this.value),e(10,y)}function it(R){oe=R,e(25,oe)}return n.$$.update=()=>{n.$$.dirty[0]&1&&e(34,i=h==="bitwise-7-phase"||h==="bitwise-10-phase"),n.$$.dirty[0]&1&&J(h),n.$$.dirty[0]&3&&e(35,a=mi(h,p))},[h,p,u,c,g,_,N,C,E,b,y,I,L,V,D,Q,z,S,O,U,Y,Z,$,G,F,oe,x,A,K,w,te,le,ee,ne,i,a,fe,Ve,pt,Te,me,ye,de,Be,Tt,pe,ie,At,ae,Ue,_t,dt,re,vt,be,Ge,xe,Ht,se,X,st,Ce,Ae,mt,lt,ke,nt,Ke,Se,ze,ge,ys,vs,Fe,ms,it]}class wi extends On{constructor(t){super(),Vn(this,t,ki,vi,Dn,{},null,[-1,-1,-1])}}export{wi as component};
